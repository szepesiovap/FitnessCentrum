package sk.upjs.ics.paz1c.fitnesscentrum.form;

import javax.swing.JOptionPane;
import org.springframework.dao.DuplicateKeyException;
import sk.upjs.ics.paz1c.fitnesscentrum.DaoFactory;
import sk.upjs.ics.paz1c.fitnesscentrum.KlucTableModel;
import sk.upjs.ics.paz1c.fitnesscentrum.KreditTableModel;
import sk.upjs.ics.paz1c.fitnesscentrum.ZoznamRecepcnychTableModel;
import sk.upjs.ics.paz1c.fitnesscentrum.dao.KlucDao;
import sk.upjs.ics.paz1c.fitnesscentrum.dao.KreditDao;
import sk.upjs.ics.paz1c.fitnesscentrum.dao.RecepcnyDao;
import sk.upjs.ics.paz1c.fitnesscentrum.dao.VstupneDao;
import sk.upjs.ics.paz1c.fitnesscentrum.entity.Kluc;
import sk.upjs.ics.paz1c.fitnesscentrum.entity.Kredit;
import sk.upjs.ics.paz1c.fitnesscentrum.entity.Recepcny;

public class NastaveniaForm extends javax.swing.JDialog {

    private final RecepcnyDao recepcnyDao;
    private Recepcny recepcny;
    private Kluc kluc;
    private final KlucDao klucDao;
    private final VstupneDao vstupneDao;
    private final KreditDao kreditDao;
    private static final int ID_COLUMN = 2;
    private static final int ID_COLUMN_KLUC = 0;
    
    private Kredit kredit;

    /**
     * Creates new form NastaveniaForm
     *
     * @param parent
     * @param modal
     */
    public NastaveniaForm(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        recepcnyDao = DaoFactory.INSTANCE.getRecepcnyDao();
        klucDao = DaoFactory.INSTANCE.getKlucDao();
        vstupneDao = DaoFactory.INSTANCE.getVstupneDao();
        kreditDao = DaoFactory.INSTANCE.getKreditDao();
        initComponents();
        aktualizujVstupneTabbedPane();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        vstupneTabbedPane = new javax.swing.JTabbedPane();
        vstupnePanel = new javax.swing.JPanel();
        cenaVstupnehoLabel = new javax.swing.JLabel();
        cenaSpinninguLabel = new javax.swing.JLabel();
        cenaVstupnehoTexttField = new javax.swing.JTextField();
        cenaSpinninguTextField = new javax.swing.JTextField();
        ulozitZmenyButton = new javax.swing.JButton();
        euroLabel = new javax.swing.JLabel();
        eurLabel = new javax.swing.JLabel();
        recepcnyPanel = new javax.swing.JPanel();
        zoznamRecepcnychScrollPane = new javax.swing.JScrollPane();
        zoznamRecepcnychTable = new javax.swing.JTable();
        zmazRecepcnehoButton = new javax.swing.JButton();
        novyRecepcnyjButton = new javax.swing.JButton();
        klucPanel = new javax.swing.JPanel();
        zoznamKlucovScrollPane = new javax.swing.JScrollPane();
        zoznamKlucovTable = new javax.swing.JTable();
        zmazKlucButton = new javax.swing.JButton();
        novyKlucLabel = new javax.swing.JLabel();
        novyKlucTextField = new javax.swing.JTextField();
        ulozKlucButton = new javax.swing.JButton();
        kreditPanel = new javax.swing.JPanel();
        zoznamKreditovScrollPane = new javax.swing.JScrollPane();
        zoznamKreditovTable = new javax.swing.JTable();
        zmazKreditButton = new javax.swing.JButton();
        novyKreditLabel = new javax.swing.JLabel();
        novyKreditTextField = new javax.swing.JTextField();
        ulozKreditButton = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Nastavenia");

        cenaVstupnehoLabel.setText("Cena jednorazového vstupu:");

        cenaSpinninguLabel.setText("Cena spinningu:");

        ulozitZmenyButton.setText("Uložiť zmeny");
        ulozitZmenyButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ulozitZmenyButtonActionPerformed(evt);
            }
        });

        euroLabel.setText("€");

        eurLabel.setText("€");

        javax.swing.GroupLayout vstupnePanelLayout = new javax.swing.GroupLayout(vstupnePanel);
        vstupnePanel.setLayout(vstupnePanelLayout);
        vstupnePanelLayout.setHorizontalGroup(
            vstupnePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(vstupnePanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(vstupnePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(cenaVstupnehoLabel)
                    .addComponent(cenaSpinninguLabel))
                .addGap(18, 18, 18)
                .addGroup(vstupnePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(vstupnePanelLayout.createSequentialGroup()
                        .addComponent(cenaSpinninguTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(eurLabel))
                    .addGroup(vstupnePanelLayout.createSequentialGroup()
                        .addComponent(cenaVstupnehoTexttField, javax.swing.GroupLayout.PREFERRED_SIZE, 63, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(euroLabel)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, vstupnePanelLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(ulozitZmenyButton)
                .addGap(26, 26, 26))
        );
        vstupnePanelLayout.setVerticalGroup(
            vstupnePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(vstupnePanelLayout.createSequentialGroup()
                .addGap(23, 23, 23)
                .addGroup(vstupnePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cenaVstupnehoTexttField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cenaVstupnehoLabel)
                    .addComponent(euroLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(vstupnePanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cenaSpinninguLabel)
                    .addComponent(cenaSpinninguTextField, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(eurLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 287, Short.MAX_VALUE)
                .addComponent(ulozitZmenyButton)
                .addGap(24, 24, 24))
        );

        vstupneTabbedPane.addTab("Vstupné", vstupnePanel);

        zoznamRecepcnychTable.setModel(new ZoznamRecepcnychTableModel()
        );
        zoznamRecepcnychScrollPane.setViewportView(zoznamRecepcnychTable);

        zmazRecepcnehoButton.setText("Zmaž");
        zmazRecepcnehoButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                zmazRecepcnehoButtonActionPerformed(evt);
            }
        });

        novyRecepcnyjButton.setText("Nový ...");
        novyRecepcnyjButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                novyRecepcnyjButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout recepcnyPanelLayout = new javax.swing.GroupLayout(recepcnyPanel);
        recepcnyPanel.setLayout(recepcnyPanelLayout);
        recepcnyPanelLayout.setHorizontalGroup(
            recepcnyPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(recepcnyPanelLayout.createSequentialGroup()
                .addContainerGap(292, Short.MAX_VALUE)
                .addComponent(novyRecepcnyjButton, javax.swing.GroupLayout.PREFERRED_SIZE, 123, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(zmazRecepcnehoButton, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addComponent(zoznamRecepcnychScrollPane, javax.swing.GroupLayout.Alignment.TRAILING)
        );
        recepcnyPanelLayout.setVerticalGroup(
            recepcnyPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(recepcnyPanelLayout.createSequentialGroup()
                .addGroup(recepcnyPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(novyRecepcnyjButton)
                    .addComponent(zmazRecepcnehoButton))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(zoznamRecepcnychScrollPane, javax.swing.GroupLayout.DEFAULT_SIZE, 378, Short.MAX_VALUE))
        );

        vstupneTabbedPane.addTab("Recepčný", recepcnyPanel);

        zoznamKlucovTable.setModel(new KlucTableModel());
        zoznamKlucovScrollPane.setViewportView(zoznamKlucovTable);

        zmazKlucButton.setText("Zmaž");
        zmazKlucButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                zmazKlucButtonActionPerformed(evt);
            }
        });

        novyKlucLabel.setText("Nový kľúč:");

        ulozKlucButton.setText("Ulož kľúč");
        ulozKlucButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ulozKlucButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout klucPanelLayout = new javax.swing.GroupLayout(klucPanel);
        klucPanel.setLayout(klucPanelLayout);
        klucPanelLayout.setHorizontalGroup(
            klucPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(klucPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(novyKlucLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(novyKlucTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(ulozKlucButton, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(zmazKlucButton, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addComponent(zoznamKlucovScrollPane, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 564, Short.MAX_VALUE)
        );
        klucPanelLayout.setVerticalGroup(
            klucPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(klucPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(klucPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(zmazKlucButton)
                    .addComponent(ulozKlucButton)
                    .addComponent(novyKlucTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(novyKlucLabel))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(zoznamKlucovScrollPane, javax.swing.GroupLayout.DEFAULT_SIZE, 360, Short.MAX_VALUE))
        );

        vstupneTabbedPane.addTab("Kľúče", klucPanel);

        zoznamKreditovTable.setModel(new KreditTableModel());
        zoznamKreditovScrollPane.setViewportView(zoznamKreditovTable);

        zmazKreditButton.setText("Zmaž");
        zmazKreditButton.setPreferredSize(new java.awt.Dimension(105, 25));
        zmazKreditButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                zmazKreditButtonActionPerformed(evt);
            }
        });

        novyKreditLabel.setText("Nový kredit :");

        ulozKreditButton.setText("Ulož kredit");
        ulozKreditButton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                ulozKreditButtonActionPerformed(evt);
            }
        });

        javax.swing.GroupLayout kreditPanelLayout = new javax.swing.GroupLayout(kreditPanel);
        kreditPanel.setLayout(kreditPanelLayout);
        kreditPanelLayout.setHorizontalGroup(
            kreditPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(kreditPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(novyKreditLabel)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(novyKreditTextField, javax.swing.GroupLayout.PREFERRED_SIZE, 178, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(ulozKreditButton, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(zmazKreditButton, javax.swing.GroupLayout.PREFERRED_SIZE, 105, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
            .addComponent(zoznamKreditovScrollPane)
        );
        kreditPanelLayout.setVerticalGroup(
            kreditPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(kreditPanelLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(kreditPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(kreditPanelLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE, false)
                        .addComponent(ulozKreditButton, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(zmazKreditButton, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(novyKreditLabel))
                    .addComponent(novyKreditTextField))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(zoznamKreditovScrollPane, javax.swing.GroupLayout.DEFAULT_SIZE, 360, Short.MAX_VALUE))
        );

        vstupneTabbedPane.addTab("Kredity", kreditPanel);

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(vstupneTabbedPane)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(vstupneTabbedPane)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void ulozitZmenyButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ulozitZmenyButtonActionPerformed
        try {
            vstupneDao.updateCenaVstupneho(Double.parseDouble(cenaVstupnehoTexttField.getText()));
            vstupneDao.updateCenaSpinningu(Double.parseDouble(cenaSpinninguTextField.getText()));
            JOptionPane.showMessageDialog(this, "Cena bola zmenená.");
            aktualizujVstupneTabbedPane();
        } catch (NumberFormatException e) {
            JOptionPane.showMessageDialog(this, "Zlý format ceny.");
        }

    }//GEN-LAST:event_ulozitZmenyButtonActionPerformed

    private void zmazKreditButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_zmazKreditButtonActionPerformed
        try {
            Long idKredit = (Long) zoznamKreditovTable.getModel().getValueAt(this.zoznamKreditovTable.getSelectedRow(), ID_COLUMN);
            kredit = kreditDao.dajKreditSId(idKredit);
            if (kredit != null) {
                Object[] options = {"Zmazať", "Zrušiť"};
                if (JOptionPane.showOptionDialog(this, "Naozaj chcete zmazať kredit " + kredit.getNazov() + "?",
                        "Zmaž kredit",
                        JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null,
                        options, options[1]) == 1) {
                    return;
                }
                kreditDao.vymazKredit(idKredit);
            }
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Nie je vybraný žiaden kredit.");
        }
        aktualizujKreditTable();
    }//GEN-LAST:event_zmazKreditButtonActionPerformed

    private void zmazRecepcnehoButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_zmazRecepcnehoButtonActionPerformed
        try {
            Long idRecepcny = (Long) zoznamRecepcnychTable.getModel().getValueAt(this.zoznamRecepcnychTable.getSelectedRow(), ID_COLUMN);
            recepcny = recepcnyDao.dajRecepcneho(idRecepcny);

            Object[] options = {"Zmazať", "Zrušiť"};
            if (JOptionPane.showOptionDialog(this, "Naozaj chcete zmazať recepčného " + recepcny.getMeno() + "?",
                    "Zmaž recepčného",
                    JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null,
                    options, options[1]) == 1) {
                return;
            }

            recepcnyDao.vymazRecepcneho(idRecepcny);
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Nie je vybraný žiaden recepčný.");
        }

        aktualizujZoznamRecepcnychTable();
    }//GEN-LAST:event_zmazRecepcnehoButtonActionPerformed

    private void novyRecepcnyjButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_novyRecepcnyjButtonActionPerformed
        new NovyRecepcnyForm(new javax.swing.JFrame(), true).setVisible(true);
        aktualizujZoznamRecepcnychTable();
    }//GEN-LAST:event_novyRecepcnyjButtonActionPerformed

    private void zmazKlucButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_zmazKlucButtonActionPerformed
        try {
            Long idKluca = (Long) zoznamKlucovTable.getModel().getValueAt(this.zoznamKlucovTable.getSelectedRow(), ID_COLUMN_KLUC);
            kluc = klucDao.dajKlucSId(idKluca);

            if (kluc.getZakaznik() == null) {
                Object[] options = {"Zmazať", "Zrušiť"};
                if (JOptionPane.showOptionDialog(this, "Naozaj chcete zmazať kľúč " + kluc.getMeno() + "?",
                        "Zmaž kľúč",
                        JOptionPane.DEFAULT_OPTION, JOptionPane.PLAIN_MESSAGE, null,
                        options, options[1]) == 1) {
                    return;
                }
                klucDao.vymazKluc(idKluca);
            } else {
                JOptionPane.showMessageDialog(this, "Vybraný kľúč je priradený zákazníkovi, nemožno zmazať priradený kľúč.");
                return;
            }
        } catch (Exception e) {
            JOptionPane.showMessageDialog(this, "Nie je vybraný žiaden kľúč.");
        }
        aktualizujKlucTable();
    }//GEN-LAST:event_zmazKlucButtonActionPerformed

    private void ulozKreditButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ulozKreditButtonActionPerformed
        kredit = new Kredit();
        try {
            kredit.setCena(Double.parseDouble(novyKreditTextField.getText()));

        } catch (NumberFormatException e) {
            JOptionPane.showMessageDialog(this, "Nesprávny formát sumy.");
            return;
        }

        kredit.setNazov(novyKreditTextField.getText() + " eur");

        try {
            kreditDao.pridajKredit(kredit);
        } catch (DuplicateKeyException e) {
            JOptionPane.showMessageDialog(this, "Zvolený kredit už existuje.");
            return;
        }
        aktualizujKreditTable();
        JOptionPane.showMessageDialog(this, "Kredit " + kredit.getNazov() + " bol pridaný.");
    }//GEN-LAST:event_ulozKreditButtonActionPerformed

    private void ulozKlucButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_ulozKlucButtonActionPerformed
        kluc = new Kluc();

        if (!("").equals(novyKlucTextField.getText())) {
            kluc.setMeno(novyKlucTextField.getText());
            kluc.setZakaznik(null);
        } else {
            JOptionPane.showMessageDialog(this, "Zadaj meno kľúča.");
            return;
        }

        try {
            klucDao.pridajKluc(kluc);
        } catch (DuplicateKeyException e) {
            JOptionPane.showMessageDialog(this, "Zvolený kľúč už existuje.");
            return;

        }
        aktualizujKlucTable();
        JOptionPane.showMessageDialog(this, "Kľúč " + kluc.getMeno() + " bol pridaný.");
    }//GEN-LAST:event_ulozKlucButtonActionPerformed

    private void aktualizujVstupneTabbedPane() {
        double vstup = vstupneDao.dajCeny().getCenaVstupneho();
        double spinning = vstupneDao.dajCeny().getCenaSpinnigu();
        cenaVstupnehoTexttField.setText("" + vstup);
        cenaSpinninguTextField.setText("" + spinning);
    }

    private void aktualizujKreditTable() {
        KreditTableModel model = (KreditTableModel) zoznamKreditovTable.getModel();
        model.aktualizovat();
        novyKreditTextField.setText("");
    }

    private void aktualizujZoznamRecepcnychTable() {
        ZoznamRecepcnychTableModel model = (ZoznamRecepcnychTableModel) zoznamRecepcnychTable.getModel();
        model.aktualizovat();
    }

    private void aktualizujKlucTable() {
        KlucTableModel model = (KlucTableModel) zoznamKlucovTable.getModel();
        model.aktualizovat();
        novyKlucTextField.setText("");
    }

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(NastaveniaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(NastaveniaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(NastaveniaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(NastaveniaForm.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {
            public void run() {
                NastaveniaForm dialog = new NastaveniaForm(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {
                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel cenaSpinninguLabel;
    private javax.swing.JTextField cenaSpinninguTextField;
    private javax.swing.JLabel cenaVstupnehoLabel;
    private javax.swing.JTextField cenaVstupnehoTexttField;
    private javax.swing.JLabel eurLabel;
    private javax.swing.JLabel euroLabel;
    private javax.swing.JPanel klucPanel;
    private javax.swing.JPanel kreditPanel;
    private javax.swing.JLabel novyKlucLabel;
    private javax.swing.JTextField novyKlucTextField;
    private javax.swing.JLabel novyKreditLabel;
    private javax.swing.JTextField novyKreditTextField;
    private javax.swing.JButton novyRecepcnyjButton;
    private javax.swing.JPanel recepcnyPanel;
    private javax.swing.JButton ulozKlucButton;
    private javax.swing.JButton ulozKreditButton;
    private javax.swing.JButton ulozitZmenyButton;
    private javax.swing.JPanel vstupnePanel;
    private javax.swing.JTabbedPane vstupneTabbedPane;
    private javax.swing.JButton zmazKlucButton;
    private javax.swing.JButton zmazKreditButton;
    private javax.swing.JButton zmazRecepcnehoButton;
    private javax.swing.JScrollPane zoznamKlucovScrollPane;
    private javax.swing.JTable zoznamKlucovTable;
    private javax.swing.JScrollPane zoznamKreditovScrollPane;
    private javax.swing.JTable zoznamKreditovTable;
    private javax.swing.JScrollPane zoznamRecepcnychScrollPane;
    private javax.swing.JTable zoznamRecepcnychTable;
    // End of variables declaration//GEN-END:variables
}
